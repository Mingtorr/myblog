+++
author = "Mincheol Park"
categories = ["SQLD"]
tags = ["SQLD", "1강"]
date = "2020-09-03"
description = ""
title = "SQLD(4) - 관계"
+++

# 관계의 개념

> **관계** : 엔터티의 인스턴스 사이의 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태

관계는 엔터티와 엔터티 간 연관성을 표현하기 때문에 엔터티의 정의에 따라 영향을 받기도 하고, 속성 정의 및 관계 정의에 따라서도 다양하게 변할 수 있다.  
 관계는 엔터티 안에 인스턴스가 개별적으로 관계를 가지는 것(페어링)이고 이것의 집합을 관계로 표현한다.  
 따라서 개별 인스턴스가 각각 다른 종류의 관계를 가진다면 두 엔터티 사이에 두개 이상의 관계가 형성될 수 있다.

<br>
<br>

# 관계의 분류

관계는 존재의 의한 관계와 행위에 의한 관계로 나누어진다.  
 이는 관계를 연결함에 있어 어떤 목적으로 연결되었는지에 따라 분류하기 때문이다.

 <p align="center"><img src="/img/blog/SQL_040.jpg"></p>
<br>

# 관계의 표기법

## 관계명 (Membership) : 관계의 이름

관계명은 엔터티가 관게에 참여하는 형태를 지칭한다. 각각의 관계는 두 개의 관계명을 가지고 있다. 또한 각각의 관계명에 의해 두 가지의 관점으로 표현될 수 있다.

> 관계시작점(The beginning) - 관계가 시작되는 편  
> 관계끝점 (The End) - 부르고 받는 편

  <p align="center"><img src="/img/blog/SQL_041.jpg"></p>
 관계시작점과 관계끝점 모두 이름을 가져야 하며 참여자의 관점에 따라 관계이름이 능동적이거나 수동적으로 명명된다. 관계명의 규칙은 다음과 같다.

1.  애매한 동사는 피한다.  
    예를 들면 '관계된다', '관련이 있다', '이다','한다' 등은 구체적이지 않아 어떤 행위가 있는지 또는 두 참여자간 어떤 상태가 존재하는지 파악할 수 없다.

2.  현재형으로 표현한다.

## 관계차수 (Degree / Cardinality) : 1:1, 1:M, M:M

두개의 엔터티간 관계에서 참여자의 수를 표현하는 것을 관계차수라고 한다.
가장 고려해야 할 사항은 한 개의 관계가 존재하는지, 2 개 이상의 멤버쉽이 존재하는지 파악하는 것이다.  
 관계차수를 표시하는 방법 중 Crow's foot 모델에서는 선을 이용하여 표기한다.  
 한 개가 참여하는 경우는 실선을 그대로 유지하고, 다수가 참여하는 형태에서는 **`까마귀발`**과 같은 모양으로 그려준다.

<p align="center"><img src="/img/blog/SQL_041.jpg"></p>
<p align="center"><img src="/img/blog/SQL_043.jpg"></p>
<p align="center"><img src="/img/blog/SQL_044.jpg"></p>

# 관계선택사양 (Optionality) : 필수관계, 선택관계

> **필수참여**(Mandatory Mebership) : 엔터티가 항상 관계에 참여한다.  
> **선택관계**(Optional Membership) : 엔터티가 관계에 참여할 수도 있고 참여하지 않을 수도 있다.

선택관계일 경우 ERD에서 관계를 나타내는 선에서 선택참여하는 엔터티 쪽으로 원을 그려 표시한다. 필수참여는 아무런 표시를 하지 않는다.  
Barker 표기법에서는 실선은 필수참여, 점선은 선택참여관계를 나타낸다.  
**만약 양쪽 엔터티 모두 선택참여관계라면 관계가 잘못 설정되었을 확률이 높다.**

<p align="center"><img src="/img/blog/SQL_046.jpg"></p>

# 관계의 확인사항 및 관계 읽기

**관계 정의시 체크사항**

- 두 개의 엔터티 사이에 관심있는 연관규칙이 존재하는가?
- 두 개의 엔터티 사이에 정보의 조합이 발생되는가?
- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
- 업무기술서, 장표에 관계연결을 가능하게 하는 동사(Verb)가 있는가?

<br> 
<br>

**관계읽기**

> 데이터 모델을 읽는 방법은 먼저 관계에 참여하는 기준 엔터티를 하나 또는 각(Each)으로 읽고 대상 엔터티의 개수(하나, 하나 이상)를 읽고 관계선택사양과 관계명을 읽도록 한다.

기준(Source) 엔터티를 한 개(One) 또는 각(Each)으로 읽는다.  
대상(Target) 엔터티의 관계참여도 즉 개수(하나, 하나 이상)를 읽는다.
관계선택사양과 관계명을 읽는다.

 <p align="center"><img src="/img/blog/SQL_047.jpg"></p>

 <br> 
<br>

출처: SQL 전문가 가이드 - KDB 한국데이터베이스진흥원
